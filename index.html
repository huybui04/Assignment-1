<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.3.2/math.js"></script>
</head>
<body>
    <div class="menu">
        <ul class="list">Giải tích số
            <li class="item" onclick="select1()">Phương pháp Nội suy</li>
            <li class="item" onclick="select2()">Giải gần đúng tích phân</li>
            <li class="item" onclick="select3()">Nghiệm gần đúng</li>
            <li class="item" onclick="select4()">Phương trình tiếp tuyến</li>
        </ul>
    </div>

    <div class="after-menu hide">
        <div class="tabs">
            <div class="tab-item active hide" id="hide0">
                <i class="tab-icon fas fa-code"></i>
                Phương pháp nội suy Newton
            </div>
            <div class="tab-item hide" id="hide1">
                <i class="tab-icon fas fa-code"></i>
                Phương pháp nội suy Lagrange
            </div>
            <div class="tab-item hide" id="hide2">
                <i class="tab-icon fas fa-plus-circle"></i>
                Phương pháp hình thang
            </div>
            <div class="tab-item hide" id="hide3">
                <i class="tab-icon fas fa-plus-circle"></i>
                Phương pháp Simpson
            </div>
            <div class="tab-item hide" id="hide4">
                <i class="tab-icon fas fa-cog"></i>
                Phương pháp chia đôi
            </div>
            <div class="tab-item hide" id="hide5">
                <i class="tab-icon fas fa-cog"></i>
                Phương pháp lặp
            </div>
            <div class="tab-item hide" id="hide6">
                <i class="tab-icon fas fa-cog"></i>
                Phương pháp dây cung
            </div>
            <div class="tab-item hide" id="hide7">
                <i class="tab-icon fas fa-cog"></i>
                Phương pháp Jacobi
            </div>
            <div class="tab-item hide" id="hide8">
                <i class="tab-icon fas fa-cog"></i>
                Phương pháp Gauss
            </div>
            <div class="tab-item hide" id="hide9">
                <i class="tab-icon fas fa-cog"></i>
                Phương pháp Gauss-Seidel
            </div>
            <div class="line"></div>
        </div>
      
        <!-- Tab content -->
        <div class="tab-content hide">
            <div class="tab-pane active hide">
               <form action="" class="dataform active">
                    <table class="method">
                        <tr>
                            <td class="F active">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập n</td>
                            <td>
                                <input type="text" class="N active">
                                <input type="button" value="Send" onclick="creatTable1()">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập a</td>
                            <td>
                                <input type="text" class="newtonA">
                                <input type="button" value="Solve" onclick="newtonMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back1()">
                            </td>
                        </tr>
                    </table>
               </form>
            </div>

            <div class="tab-pane">
                <form action="" class="dataform">
                    <table class="method">
                        <tr>
                            <td class="F">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập n</td>
                            <td>
                                <input type="text" class="N">
                                <input type="button" value="Send" onclick="creatTable2()">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập a</td>
                            <td>
                                <input type="text" class="lagrangeA">
                                <input type="button" value="Solve" onclick="lagrangeMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back1()">
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
      
            <div class="tab-pane ">
                <div class="dataform">
                    <table class="method">
                        <tr>
                            <td>Nhập f(x)</td>
                            <td>
                                <input type="text" class="F">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập a</td>
                            <td>
                                <input type="text" class="trapezoidA">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập b</td>
                            <td>
                                <input type="text" class="trapezoidB">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập n</td>
                            <td>
                                <input type="text" class="N">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Solve" class="method-btn" onclick="trapezoidMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back2()">
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
      
            <div class="tab-pane">
                <form action="" class="dataform">
                    <table class="method">
                        <tr>
                            <td>Nhập f(x)</td>
                            <td>
                                <input type="text" class="F">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập a</td>
                            <td>
                                <input type="text" class="simpsonA">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập b</td>
                            <td>
                                <input type="text" class="simpsonB">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập n</td>
                            <td>
                                <input type="text" class="N">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Solve" class="method-btn" onclick="simpsonMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back2()">
                            </td>
                        </tr>
                    </table>
                </form>
            </div>

            <div class="tab-pane">
                <form action="" class="dataform">
                    <table class="method">
                        <tr>
                            <td>Nhập hàm f(x)</td>
                            <td>
                                <input type="text" class="F">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập a</td>
                            <td>
                                <input type="text" class="bisectionA">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập b</td>
                            <td>
                                <input type="text" class="bisectionB">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập sai số</td>
                            <td>
                                <input type="text" class="N">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Solve" class="method-btn" onclick="bisectionMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back3()">
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
            <div class="tab-pane">
                <form action="" class="dataform">
                    <table class="method">
                        <tr>
                            <td>Nhập hàm lặp</td>
                            <td>
                                <input type="text" class="F">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập x0</td>
                            <td>
                                <input type="text" class="iterationX0">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập q</td>
                            <td>
                                <input type="text" class="iterationQ">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập sai số</td>
                            <td>
                                <input type="text" class="N">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Solve" class="method-btn" onclick="iterationMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back3()">
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
            <div class="tab-pane">
                <form action="" class="dataform">
                    <table class="method">
                        <tr>
                            <td>Nhập hàm f(x)</td>
                            <td>
                                <input type="text" class="F">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập a</td>
                            <td>
                                <input type="text" class="secantA">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập b</td>
                            <td>
                                <input type="text" class="secantB">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập sai số</td>
                            <td>
                                <input type="text" class="N">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Solve" class="method-btn" onclick="secantMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back3()">
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
            <div class="tab-pane">
                <form action="" class="dataform" id="dataformJacobi">
                    <table class="method">
                        <tr>
                            <td>Nhập hàng ma trận T</td>
                            <td>
                                <input type="text" class="N">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập cột ma trận T</td>
                            <td>
                                <input type="text" class="M1">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Send" onclick="creatMatrixT1()">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập kích cỡ vecto c</td>
                            <td>
                                <input type="text" class="jacobiC" id="jacobi">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Send" onclick="creatVectorC1()">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập kích cỡ vecto X0</td>
                            <td>
                                <input type="text" class="jacobiX-N">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Send" onclick="CreateVectorX()">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập sai số</td>
                            <td>
                                <input type="text" class="F">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Solve" class="method-btn" onclick="jacobiMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back4()">
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
            <div class="tab-pane">
                <form action="" class="dataform">
                    <table class="method">
                        <tr>
                            <td>Nhập hàng ma trận bổ sung</td>
                            <td>
                                <input type="text" class="N">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập cột ma trận bổ sung</td>
                            <td>
                                <input type="text" class="M2">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Send" onclick="creatMatrixT2()">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span type="text" class="F">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Solve" class="method-btn" onclick="gaussMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back4()">
                            </td>
                        </tr>
                    </table>
                </form>
            </div>

            <!--  -->
            <div class="tab-pane">
                <form action="" class="dataform" id="dataformGaussseidel">
                    <table class="method">
                        <tr>
                            <td>Nhập hàng ma trận A</td>
                            <td>
                                <input type="text" class="N">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập cột ma trận A</td>
                            <td>
                                <input type="text" class="M3">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Send" onclick="creatMatrixT3()">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập kích cỡ vecto B</td>
                            <td>
                                <input type="text" class="gausseidelC" id="gaussseidel">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Send" onclick="creatVectorC2()">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập kích cỡ vecto X0</td>
                            <td>
                                <input type="text" class="gaussseidelX-N">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Send" onclick="CreateVectorX2()">
                            </td>
                        </tr>
                        <tr>
                            <td>Nhập số lần lặp</td>
                            <td>
                                <input type="text" class="F">
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <input type="button" value="Solve" class="method-btn" onclick="gaussSeidelMethod()">
                            </td>
                        </tr>
                        <tr>
                            <td>Kết quả </td>
                            <td>
                                <div class="result"></div>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="button" value="Back" onclick="back4()">
                            </td>
                        </tr>
                    </table>
                </form>
            </div>
    </div>  

    <script>
        
        const $ = document.querySelector.bind(document);
        const $$ = document.querySelectorAll.bind(document);

        const tabs = $$(".tab-item");
        const panes = $$(".tab-pane");
        const dataforms = $$(".dataform");
        const fActives  = $$(".F");
        const nActives  = $$(".N");

        const tabActive = $(".tab-item.active");
        const line = $(".tabs .line");

        requestIdleCallback(function () {
        line.style.left = tabActive.offsetLeft + "px";
        line.style.width = tabActive.offsetWidth + "px";
        });

        tabs.forEach((tab, index) => {
            const pane = panes[index];
            const dataform = dataforms[index];
            const fActive = fActives[index];
            const nActive = nActives[index];

            tab.onclick = function() {
                $('.tab-item.active').classList.remove('active')
                $('.tab-pane.active').classList.remove('active')
                $('.dataform.active').classList.remove('active')
                $('.F.active').classList.remove('active')
                $('.N.active').classList.remove('active')

                line.style.left = this.offsetLeft + "px";
                line.style.width = this.offsetWidth + "px";

                this.classList.add('active')
                pane.classList.add('active')
                dataform.classList.add('active')
                fActive.classList.add('active')
                nActive.classList.add('active')
            }
        });
        // Select
        function select1() {
            document.getElementsByClassName("menu")[0].classList.add("hide");
            document.getElementsByClassName("after-menu hide")[0].classList.remove("hide");
            document.getElementById("hide0").classList.remove("hide");
            document.getElementById("hide1").classList.remove("hide");
            document.getElementsByClassName("tab-content hide")[0].classList.remove("hide");
            // document.getElementsByClassName("tab-pane active hide")[0].classList.remove("hide");
            document.getElementsByClassName("N active")[0].classList.remove("active");
            document.getElementsByClassName("N")[0].classList.add("active");
            document.getElementsByClassName("line")[0].style.left = 0;
            document.getElementsByClassName("line")[0].style.width = 339+"px";
        }
        function select2() {
            document.getElementsByClassName("menu")[0].classList.add("hide");
            document.getElementsByClassName("after-menu hide")[0].classList.remove("hide");
            document.getElementById("hide2").classList.remove("hide");
            document.getElementById("hide3").classList.remove("hide");
            document.getElementsByClassName("tab-content hide")[0].classList.remove("hide");
            // document.getElementsByClassName("tab-pane hide")[0].classList.remove("hide");
            document.getElementsByClassName("tab-pane active")[0].classList.remove("active");
            document.getElementsByClassName("tab-pane")[2].classList.add("active");
            document.getElementsByClassName("N active")[0].classList.remove("active");
            document.getElementsByClassName("N")[2].classList.add("active");
            document.getElementsByClassName("F active")[0].classList.remove("active");
            document.getElementsByClassName("F")[2].classList.add("active");
            document.getElementsByClassName("line")[0].style.left = 0;
            document.getElementsByClassName("line")[0].style.width = 302+"px";
        }
        function select3() {
            document.getElementsByClassName("menu")[0].classList.add("hide");
            document.getElementsByClassName("after-menu hide")[0].classList.remove("hide");
            document.getElementById("hide4").classList.remove("hide");
            document.getElementById("hide5").classList.remove("hide");
            document.getElementById("hide6").classList.remove("hide");
            document.getElementsByClassName("tab-content hide")[0].classList.remove("hide");
            // document.getElementsByClassName("tab-pane hide")[0].classList.remove("hide");
            document.getElementsByClassName("tab-pane active")[0].classList.remove("active");
            document.getElementsByClassName("tab-pane")[4].classList.add("active");
            document.getElementsByClassName("N active")[0].classList.remove("active");
            document.getElementsByClassName("N")[4].classList.add("active");
            document.getElementsByClassName("F active")[0].classList.remove("active");
            document.getElementsByClassName("F")[4].classList.add("active");
            document.getElementsByClassName("line")[0].style.left = 0;
            document.getElementsByClassName("line")[0].style.width = 249+"px";
        }
        function select4() {
            document.getElementsByClassName("menu")[0].classList.add("hide");
            document.getElementsByClassName("after-menu hide")[0].classList.remove("hide");
            document.getElementById("hide7").classList.remove("hide");
            document.getElementById("hide8").classList.remove("hide");
            document.getElementById("hide9").classList.remove("hide");
            document.getElementsByClassName("tab-content hide")[0].classList.remove("hide");
            // document.getElementsByClassName("tab-pane hide")[0].classList.remove("hide");
            document.getElementsByClassName("tab-pane active")[0].classList.remove("active");
            document.getElementsByClassName("tab-pane")[7].classList.add("active");
            document.getElementsByClassName("N active")[0].classList.remove("active");
            document.getElementsByClassName("N")[7].classList.add("active");
            document.getElementsByClassName("F active")[0].classList.remove("active");
            document.getElementsByClassName("F")[7].classList.add("active");
            document.getElementsByClassName("line")[0].style.left = 0;
            document.getElementsByClassName("line")[0].style.width = 225+"px";
        }
        // Back
        function back1() {
            document.getElementsByClassName("menu hide")[0].classList.remove("hide");
            document.getElementsByClassName("after-menu")[0].classList.add("hide");
            document.getElementById("hide0").classList.add("hide");
            document.getElementById("hide1").classList.add("hide");
            document.getElementsByClassName("tab-content")[0].classList.add("hide");
            document.getElementsByClassName("tab-pane active")[0].classList.add("hide");
        }
        function back2() {
            document.getElementsByClassName("menu hide")[0].classList.remove("hide");
            document.getElementsByClassName("after-menu")[0].classList.add("hide");
            document.getElementById("hide2").classList.add("hide");
            document.getElementById("hide3").classList.add("hide");
            document.getElementsByClassName("tab-pane active")[0].classList.remove("active");
            document.getElementsByClassName("tab-pane")[0].classList.add("active");
            document.getElementsByClassName("tab-content")[0].classList.add("hide");
        }
        function back3() {
            document.getElementsByClassName("menu hide")[0].classList.remove("hide");
            document.getElementsByClassName("after-menu")[0].classList.add("hide");
            document.getElementById("hide4").classList.add("hide");
            document.getElementById("hide5").classList.add("hide");
            document.getElementById("hide6").classList.add("hide");
            document.getElementsByClassName("tab-pane active")[0].classList.remove("active");
            document.getElementsByClassName("tab-pane")[0].classList.add("active");
            document.getElementsByClassName("tab-content")[0].classList.add("hide");
        }
        function back4() {
            document.getElementsByClassName("menu hide")[0].classList.remove("hide");
            document.getElementsByClassName("after-menu")[0].classList.add("hide");
            document.getElementById("hide7").classList.add("hide");
            document.getElementById("hide8").classList.add("hide");
            document.getElementById("hide9").classList.add("hide");
            document.getElementsByClassName("tab-pane active")[0].classList.remove("active");
            document.getElementsByClassName("tab-pane")[0].classList.add("active");
            document.getElementsByClassName("tab-content")[0].classList.add("hide");
        }
        // Validate
        function validateF(invalidF) {
            if(invalidF.value=="") invalidF.classList.add('invalid')
            else invalidF.classList.remove('invalid');
        }
        function validate(invalidElement) {
            if(invalidElement.value=="" || isNaN(invalidElement.value)) {
                invalidElement.classList.add('invalid');
            }
            else {
                invalidElement.classList.remove('invalid');
            }
            
        }
        // Fx
        function f(x) {
            fstring = document.getElementsByClassName("F active")[0].value;
            var source="(function() {return "+fstring+";})"
            with(Math){
                var f = eval(source);
                var v = f();
            }
            return v;
        }
        // Hình thang
        function trapezoidMethod() {
            var a = parseFloat(document.getElementsByClassName("trapezoidA")[0].value);
            var b = parseFloat(document.getElementsByClassName("trapezoidB")[0].value);
            var n = parseFloat(document.getElementsByClassName("N active")[0].value);
            var h = (b-a)/n;
            var s = f(a) + f(b);

            validateF(document.getElementsByClassName("F active")[0]);
            validate(document.getElementsByClassName("trapezoidA")[0]);
            validate(document.getElementsByClassName("trapezoidB")[0]);
            validate(document.getElementsByClassName("N active")[0]);
            try 
            {
                if (document.getElementsByClassName("trapezoidA")[0].value == "" ||
                    document.getElementsByClassName("trapezoidB")[0].value == "" ||
                    document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("F active")[0].value == "") throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("trapezoidA")[0].value)||
                    isNaN(document.getElementsByClassName("trapezoidB")[0].value)||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[2].innerHTML = err;
                return;
            }

            for (i=1;i<n;i++)
            {
                var x = a + i*h;
                s += 2*f(x);
            }
            s = (h/2)*s;
            if (s==Infinity) document.getElementsByClassName("result")[2].innerHTML = "Hàm không hội tụ";
            else document.getElementsByClassName("result")[2].innerHTML = s;
        }
        // Simpson
        function simpsonMethod() {
            var a = parseFloat(document.getElementsByClassName("simpsonA")[0].value);
            var b = parseFloat(document.getElementsByClassName("simpsonB")[0].value);
            var n = parseFloat(document.getElementsByClassName("N active")[0].value);
            var h = (b-a)/n;
            var s = f(a) + f(b);
            
            validateF(document.getElementsByClassName("F active")[0]);
            validate(document.getElementsByClassName("simpsonA")[0]);
            validate(document.getElementsByClassName("simpsonB")[0]);
            validate(document.getElementsByClassName("N active")[0]);

            try 
            {
                if (document.getElementsByClassName("simpsonA")[0].value == "" ||
                    document.getElementsByClassName("simpsonB")[0].value == "" ||
                    document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("F active")[0].value == "") throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("trapezoidA")[0].value)||
                    isNaN(document.getElementsByClassName("trapezoidB")[0].value)||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[3].innerHTML = err;
                return;
            }

            for (i=1;i<n;i++)
            {
                var x = a + i*h;
                s += 2*f(x);
                if (i%2!=0) s+= 2*f(x);
            }
            s = (h/3)*s;
            if (s==Infinity) document.getElementsByClassName("result")[3].innerHTML = "Hàm không hội tụ";
            else document.getElementsByClassName("result")[3].innerHTML = s;
        }
        // CreateTable
        function creatTable1() {
            var n = parseInt(document.getElementsByClassName("N active")[0].value);
            var tagForm = document.getElementsByClassName("dataform active")[0];
            var tagTable = document.createElement("table");
            
            tagTable.classList.add("deleteAble");
		    tagTable.border = 1;
            
            validate(document.getElementsByClassName("N active")[0]);
            try 
            {
                if (document.getElementsByClassName("N active")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[0].innerHTML = err;
                document.getElementsByClassName("result")[1].innerHTML = err;
                return;
            }

            var tagRow = document.createElement("tr");
            tagTable.appendChild(tagRow);
            var tagColumnX = document.createElement("td");
            var tagColumnY = document.createElement("td");
            var tagTitleX = document.createElement("div");
            var tagTitleY = document.createElement("div");
            tagTitleX.textContent = "Nhập x";
            tagTitleY.textContent = "Nhập Y";
            tagTitleX.style.textAlign = "center";
            tagTitleY.style.textAlign = "center";
            tagColumnX.appendChild(tagTitleX);
            tagColumnY.appendChild(tagTitleY);
            tagRow.appendChild(tagColumnX);
            tagRow.appendChild(tagColumnY);

            for (i=0;i<n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=0;j<2;j++) {
                var tagColumn = document.createElement("td");
                // var textNode = document.createTextNode(i + "-" + j);
				// tagColumn.appendChild(textNode);
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.setAttribute("class",String(i)+"-"+String(j));
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAble")[0].remove();
            });

            tagForm.appendChild(tagTable);
        }   
        function creatTable2() {
            var n = parseInt(document.getElementsByClassName("N active")[0].value);
            var tagForm = document.getElementsByClassName("dataform active")[0];
            var tagTable = document.createElement("table");
            
            tagTable.classList.add("deleteAble");
		    tagTable.border = 1;
            
            validate(document.getElementsByClassName("N active")[0]);
            try 
            {
                if (document.getElementsByClassName("N active")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[0].innerHTML = err;
                document.getElementsByClassName("result")[1].innerHTML = err;
                return;
            }

            var tagRow = document.createElement("tr");
            tagTable.appendChild(tagRow);
            var tagColumnX = document.createElement("td");
            var tagColumnY = document.createElement("td");
            var tagTitleX = document.createElement("div");
            var tagTitleY = document.createElement("div");
            tagTitleX.textContent = "Nhập x";
            tagTitleY.textContent = "Nhập Y";
            tagTitleX.style.textAlign = "center";
            tagTitleY.style.textAlign = "center";
            tagColumnX.appendChild(tagTitleX);
            tagColumnY.appendChild(tagTitleY);
            tagRow.appendChild(tagColumnX);
            tagRow.appendChild(tagColumnY);
            
            for (i=0;i<n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=0;j<2;j++) {
                var tagColumn = document.createElement("td");
                // var textNode = document.createTextNode(i + "-" + j);
				// tagColumn.appendChild(textNode);
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.setAttribute("class",String(i)+"-"+String(j)+"-");
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAble")[0].remove();
            });

            tagForm.appendChild(tagTable);
        }
        // CreatMatrixT
        function creatMatrixT1() {
            var n = parseInt(document.getElementsByClassName("N active")[0].value);
            var m = parseInt(document.getElementsByClassName("M1")[0].value);
            var tagForm = document.getElementsByClassName("tab-pane active")[0];
            var tagTable = document.createElement("table");
            
            tagTable.classList.add("deleteAble");
            tagTable.style.marginLeft = (716 - 40*n)/2 + "px";
		    tagTable.border = 1;
            
            validate(document.getElementsByClassName("N active")[0]);
            validate(document.getElementsByClassName("M1")[0]);
            try 
            {
                if (document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("M1")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("N active")[0].value) ||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[7].innerHTML = err;
                return;
            }

            for (i=0;i<n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=0;j<m;j++) {
                var tagColumn = document.createElement("td");
                tagColumn.style.height = 40 +"px";
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.style.width = 40 +"px";
                tagInput.setAttribute("class",String(i)+"-"+String(j)+"-T");
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagRow.style.height = 20 +"px";
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAble")[0].remove();
                document.getElementsByClassName("titleMatrixT1")[0].remove();
            });

            var tagTitle = document.createElement("div");
            tagTitle.textContent = "Ma trận T";
            tagTitle.classList.add("titleMatrixT1");
            tagTitle.style.textAlign = "center";
            tagForm.appendChild(tagTitle);
            tagForm.appendChild(tagTable);
        }
        function creatMatrixT2() {
            var n = parseInt(document.getElementsByClassName("N active")[0].value);
            var m = parseInt(document.getElementsByClassName("M2")[0].value);
            var tagForm = document.getElementsByClassName("tab-pane active")[0];
            var tagTable = document.createElement("table");
            
            tagTable.classList.add("deleteAble1");
            tagTable.style.marginLeft = (716 - 42.5*(m))/2 + "px";
		    tagTable.border = 1;
            
            validate(document.getElementsByClassName("N active")[0]);
            validate(document.getElementsByClassName("M2")[0]);
            try 
            {
                if (document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("M2")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("N active")[0].value) ||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[8].innerHTML = err;
                return;
            }

            for (i=1;i<=n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=1;j<=m;j++) {
                var tagColumn = document.createElement("td");
                tagColumn.style.height = 40 +"px";
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.style.width = 40 +"px";
                tagInput.setAttribute("class",String(i)+"-"+String(j)+"-T+");
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagRow.style.height = 20 +"px";
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAble1")[0].remove();
            });

            tagForm.appendChild(tagTable);
        }
        function creatMatrixT3() {
            var n = parseInt(document.getElementsByClassName("N active")[0].value);
            var m = parseInt(document.getElementsByClassName("M3")[0].value);
            var tagForm = document.getElementsByClassName("tab-pane active")[0];
            var tagTable = document.createElement("table");
            
            tagTable.classList.add("deleteAble3");
            tagTable.style.marginLeft = (716 - 40*n)/2 + "px";
		    tagTable.border = 1;
            
            validate(document.getElementsByClassName("N active")[0]);
            validate(document.getElementsByClassName("M3")[0]);
            try 
            {
                if (document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("M3")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("N active")[0].value) ||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[9].innerHTML = err;
                return;
            }

            for (i=0;i<n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=0;j<m;j++) {
                var tagColumn = document.createElement("td");
                tagColumn.style.height = 40 +"px";
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.style.width = 40 +"px";
                tagInput.setAttribute("class",String(i)+"-"+String(j)+"-T-");
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagRow.style.height = 20 +"px";
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAble3")[0].remove();
                document.getElementsByClassName("titleMatrixT2")[0].remove();
            });

            var tagTitle = document.createElement("div");
            tagTitle.textContent = "Ma trận A";
            tagTitle.classList.add("titleMatrixT2");
            tagTitle.style.textAlign = "center";
            tagForm.appendChild(tagTitle);
            tagForm.appendChild(tagTable);
        }
        // CreateVectorC
        function creatVectorC1() {
            var n = parseInt(document.getElementsByClassName("jacobiC")[0].value);
            var tagForm = document.getElementById("dataformJacobi");
            var tagTable = document.createElement("table");

            tagTable.classList.add("deleteAbleC1");
            tagTable.border = 1;

            validate(document.getElementsByClassName("jacobiC")[0]);
            try 
            {
                if (document.getElementsByClassName("jacobiC")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("jacobiC")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[7].innerHTML = err;
                return;
            }

            var tagRow = document.createElement("tr");
            tagTable.appendChild(tagRow);
            var tagColumn = document.createElement("td");
            tagColumn.style.height = 20 +"px";
            tagColumn.textContent = "VectoC";
			tagRow.appendChild(tagColumn);

            for (i=0;i<n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=0;j<1;j++) {
                var tagColumn = document.createElement("td");
                tagColumn.style.height = 40 +"px";
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.style.width = 60 +"px";
                tagInput.setAttribute("class",String(i));
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagRow.style.height = 20 +"px";
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAbleC1")[0].remove();
            });

            tagForm.appendChild(tagTable);
        }
        
        function creatVectorC2() {
            var n = parseInt(document.getElementsByClassName("gausseidelC")[0].value);
            var tagForm = document.getElementById("dataformGaussseidel");
            var tagTable = document.createElement("table");

            tagTable.classList.add("deleteAbleC2");
            tagTable.border = 1;

            validate(document.getElementsByClassName("gausseidelC")[0]);
            try 
            {
                if (document.getElementsByClassName("gausseidelC")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("gausseidelC")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[9].innerHTML = err;
                return;
            }

            var tagRow = document.createElement("tr");
            tagTable.appendChild(tagRow);
            var tagColumn = document.createElement("td");
            tagColumn.style.height = 20 +"px";
            tagColumn.textContent = "VectoB";
			tagRow.appendChild(tagColumn);

            for (i=0;i<n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=0;j<1;j++) {
                var tagColumn = document.createElement("td");
                tagColumn.style.height = 40 +"px";
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.style.width = 60 +"px";
                tagInput.setAttribute("class",String(i)+"-");
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagRow.style.height = 20 +"px";
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAbleC2")[0].remove();
            });

            tagForm.appendChild(tagTable);
        }

        function CreateVectorX() {
            var n = parseInt(document.getElementsByClassName("jacobiX-N")[0].value);
            var tagForm = document.getElementById("dataformJacobi");
            var tagTable = document.createElement("table");
            
            tagTable.classList.add("deleteAbleX");
		    tagTable.border = 1;
            
            validate(document.getElementsByClassName("jacobiX-N")[0]);
            try 
            {
                if (document.getElementsByClassName("jacobiX-N")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("jacobiX-N")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[7].innerHTML = err;
                return;
            }

            var tagRow = document.createElement("tr");
            tagTable.appendChild(tagRow);
            var tagColumn = document.createElement("td");
            tagColumn.style.height = 20 +"px";
            tagColumn.textContent = "VectoX0";
			tagRow.appendChild(tagColumn);

            for (i=0;i<n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=0;j<1;j++) {
                var tagColumn = document.createElement("td");
                tagColumn.style.height = 40 +"px";
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.style.width = 65 +"px";
                tagInput.setAttribute("class",String(i)+"-X");
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagRow.style.height = 20 +"px";
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAbleX")[0].remove();
            });

            tagForm.appendChild(tagTable);
        }

        function CreateVectorX2() {
            var n = parseInt(document.getElementsByClassName("gaussseidelX-N")[0].value);
            var tagForm = document.getElementById("dataformGaussseidel");
            var tagTable = document.createElement("table");
            
            tagTable.classList.add("deleteAbleX-G");
		    tagTable.border = 1;
            
            validate(document.getElementsByClassName("gaussseidelX-N")[0]);
            try 
            {
                if (document.getElementsByClassName("gaussseidelX-N")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("gaussseidelX-N")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[9].innerHTML = err;
                return;
            }

            var tagRow = document.createElement("tr");
            tagTable.appendChild(tagRow);
            var tagColumn = document.createElement("td");
            tagColumn.style.height = 20 +"px";
            tagColumn.textContent = "VectoX0";
			tagRow.appendChild(tagColumn);

            for (i=0;i<n; i++) 
            {
                var tagRow = document.createElement("tr");
                tagTable.appendChild(tagRow);
            
                for(j=0;j<1;j++) {
                var tagColumn = document.createElement("td");
                tagColumn.style.height = 40 +"px";
				tagRow.appendChild(tagColumn);
                var tagInput = document.createElement("input");
                tagInput.style.width = 65 +"px";
                tagInput.setAttribute("class",String(i)+"-X-G");
                tagColumn.appendChild(tagInput);
                }
            }
            var tagRow = document.createElement("tr");
            tagRow.style.height = 20 +"px";
            tagTable.appendChild(tagRow);
            var tagButton = document.createElement("button");
            tagButton.innerHTML = "Delete";
            tagRow.appendChild(tagButton);
            tagButton.addEventListener('click', () => {
                document.getElementsByClassName("deleteAbleX-G")[0].remove();
            });

            tagForm.appendChild(tagTable);
        }
        // Newton
        function newtonMethod() {
            var n = parseInt(document.getElementsByClassName("N active")[0].value);
            var a = parseFloat(document.getElementsByClassName("newtonA")[0].value);
            var D = [];
            var inPutsX = [], inPutsY = [];   

            validate(document.getElementsByClassName("N active")[0]);
            validate(document.getElementsByClassName("newtonA")[0]);
            for (i=0;i<n;i++)
            {
                validate(document.getElementsByClassName(String(i)+"-"+String(0))[0]);
                validate(document.getElementsByClassName(String(i)+"-"+String(1))[0]);
            }

            try 
            {
                for (i=0;i<n;i++)
                {
                    if (document.getElementsByClassName(String(i)+"-"+String(0))[0].value == ""||
                        document.getElementsByClassName(String(i)+"-"+String(1))[0].value == "") throw "Nhập thiếu";
                    if (isNaN(document.getElementsByClassName(String(i)+"-"+String(0))[0].value)||
                        isNaN(document.getElementsByClassName(String(i)+"-"+String(1))[0].value)) throw "Không hợp lệ";
                }
                if (document.getElementsByClassName("newtonA")[0].value == "" ||
                    document.getElementsByClassName("N active")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("newtonA")[0].value)||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[0].innerHTML = err;
                return;
            }

            for (i=0;i<n;i++)
            {
                inPutsX[i] = parseFloat(document.getElementsByClassName(String(i)+"-"+String(0))[0].value);
                inPutsY[i] = parseFloat(document.getElementsByClassName(String(i)+"-"+String(1))[0].value);
            }
            
            for (i=0;i<n-1;i++)
            {
                D[i] = (inPutsY[i+1]-inPutsY[i])/(inPutsX[i+1]-inPutsX[i]);
            }
            var S = inPutsY[0] + D[0]*(a-inPutsX[0]);
            var T = (a-inPutsX[0]);
            var P = 1;
            for (j=2;j<n;j++)
            {
                for (i=0;i<n-j;i++)
                {
                    D[i] = (D[i+1]-D[i])/(inPutsX[i+j]-inPutsX[i]);
                }
                T *= (a-inPutsX[j-1]); 
                P *= D[0]*T; 
                S += P;
            }
            document.getElementsByClassName("result")[0].innerHTML = S;
        }
        // Lagrange
        function lagrangeMethod() {
            var n = parseInt(document.getElementsByClassName("N active")[0].value);
            var a = parseFloat(document.getElementsByClassName("lagrangeA")[0].value);
            var inPutsX = [], inPutsY = [];
            var S = 0;

            validate(document.getElementsByClassName("N active")[0]);
            validate(document.getElementsByClassName("lagrangeA")[0]);
            for (i=0;i<n;i++)
            {
                validate(document.getElementsByClassName(String(i)+"-"+String(0)+"-")[0]);
                validate(document.getElementsByClassName(String(i)+"-"+String(1)+"-")[0]);
            }

            try 
            {
                for (i=0;i<n;i++)
                {
                    if (document.getElementsByClassName(String(i)+"-"+String(0)+"-")[0].value == ""||
                        document.getElementsByClassName(String(i)+"-"+String(1)+"-")[0].value == "") throw "Nhập thiếu";
                    if (isNaN(document.getElementsByClassName(String(i)+"-"+String(0)+"-")[0].value)||
                        isNaN(document.getElementsByClassName(String(i)+"-"+String(1)+"-")[0].value)) throw "Không hợp lệ";
                }
                if (document.getElementsByClassName("lagrangeA")[0].value == "" ||
                    document.getElementsByClassName("N active")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("lagrangeA")[0].value)||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[1].innerHTML = err;
                return;
            }

            for (i=0;i<n;i++)
            {
                    inPutsX[i] = parseFloat(document.getElementsByClassName(String(i)+"-"+String(0)+"-")[0].value);
                    inPutsY[i] = parseFloat(document.getElementsByClassName(String(i)+"-"+String(1)+"-")[0].value);
            }

            for (k=0;k<n;k++)
            {
                var d=1;
                for (i=0;i<n;i++)
                {
                    if (i!=k) d = d*(a-inPutsX[i])/(inPutsX[k]-inPutsX[i]);
                }
                S += inPutsY[k]*d;
            }
            document.getElementsByClassName("result")[1].innerHTML = S;
        }
        // Bisection
        function bisectionMethod() {
            var a = parseFloat(document.getElementsByClassName("bisectionA")[0].value);
            var b = parseFloat(document.getElementsByClassName("bisectionB")[0].value);
            var e = parseFloat(document.getElementsByClassName("N active")[0].value);
            var i = 0;

            validateF(document.getElementsByClassName("F active")[0]);
            validate(document.getElementsByClassName("bisectionA")[0]);
            validate(document.getElementsByClassName("bisectionB")[0]);
            validate(document.getElementsByClassName("N active")[0]);

            try 
            {
                if (document.getElementsByClassName("bisectionA")[0].value == "" ||
                    document.getElementsByClassName("bisectionB")[0].value == "" ||
                    document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("F active")[0].value == "") throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("bisectionA")[0].value)||
                    isNaN(document.getElementsByClassName("bisectionB")[0].value)||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[4].innerHTML = err;
                return;
            }

            do
            {
                var x = (a+b)/2;
                var fa = f(a);
                var fx = f(x);
                if (fa*fx>0) a = x;	
                else b = x;	
                i++;
                if (i==100) 
                {
                    document.getElementsByClassName("result")[4].innerHTML = "Hàm không hội tụ";
                    return;
                }
            } while (b-a>=e);
            document.getElementsByClassName("result")[4].innerHTML = x;
        }
        // Iteration
        function iterationMethod() {
            var x0 = parseFloat(document.getElementsByClassName("iterationX0")[0].value);
            var q = parseFloat(document.getElementsByClassName("iterationQ")[0].value);
            var e = parseFloat(document.getElementsByClassName("N active")[0].value);
            var ERR = 0;
            var x = 0;
            var i = 0;

            validateF(document.getElementsByClassName("F active")[0]);
            validate(document.getElementsByClassName("iterationX0")[0]);
            validate(document.getElementsByClassName("iterationQ")[0]);
            validate(document.getElementsByClassName("N active")[0]);

            try 
            {
                if (document.getElementsByClassName("iterationX0")[0].value == "" ||
                    document.getElementsByClassName("iterationQ")[0].value == "" ||
                    document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("F active")[0].value == "") throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("iterationX0")[0].value)||
                    isNaN(document.getElementsByClassName("iterationQ")[0].value)||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
                if (q>=1) throw "Hàm không hội tụ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[5].innerHTML = err;
                return;
            }

            do
            {
                x = f(x0);
                ERR = Math.abs(x-x0);
                x0 = x;
                i++;
                if (i==100) 
                {
                    document.getElementsByClassName("result")[5].innerHTML = "Hàm không hội tụ";
                    return;
                }
            } while (ERR>=e*(1-q)/q);
            document.getElementsByClassName("result")[5].innerHTML = x;
        }
        // Secant
        function secantMethod() {
            var a = parseFloat(document.getElementsByClassName("secantA")[0].value);
            var b = parseFloat(document.getElementsByClassName("secantB")[0].value);
            var e = parseFloat(document.getElementsByClassName("N active")[0].value);
            var ERR = 0;
            var x = 0;
            var i = 0;

            validateF(document.getElementsByClassName("F active")[0]);
            validate(document.getElementsByClassName("secantA")[0]);
            validate(document.getElementsByClassName("secantB")[0]);
            validate(document.getElementsByClassName("N active")[0]);

            try 
            {
                if (document.getElementsByClassName("secantA")[0].value == "" ||
                    document.getElementsByClassName("secantB")[0].value == "" ||
                    document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("F active")[0].value == "") throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("secantA")[0].value)||
                    isNaN(document.getElementsByClassName("secantB")[0].value)||
                    isNaN(document.getElementsByClassName("N active")[0].value)) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[6].innerHTML = err;
                return;
            }

            do
            {
                x = (a*f(b)-b*f(a))/(f(b)-f(a));
                if (f(a)*f(x)<0) b = x;
                else a = x;
                ERR = b-a;
                i++;
                i++;
                if (i==100) 
                {
                    document.getElementsByClassName("result")[6].innerHTML = "Hàm không hội tụ";
                    return;
                }
            } while (ERR>=e);
            if (x==NaN) document.getElementsByClassName("result")[6].innerHTML = "Hàm không hội tụ";
            else document.getElementsByClassName("result")[6].innerHTML = x;
        }
        // Jacobi
        function jacobiMethod() {
            var matrixT = [];
            var vectoC = [];
            var vectoX= [];
            var x = [];
            var nT = parseInt(document.getElementsByClassName("N active")[0].value);
            var mT = parseInt(document.getElementsByClassName("M1")[0].value);
            var nX = parseInt(document.getElementsByClassName("jacobiX-N")[0].value);
            var nC = parseInt(document.getElementsByClassName("jacobiC")[0].value);
            var e = parseFloat(document.getElementsByClassName("F active")[0].value);
            var ERR = 0;
            var count = 0;

            validate(document.getElementsByClassName("N active")[0]);
            validate(document.getElementsByClassName("M1")[0]);
            validate(document.getElementsByClassName("jacobiX-N")[0]);
            validate(document.getElementsByClassName("jacobiC")[0]);
            validate(document.getElementsByClassName("F active")[0]);
            for (i=0;i<nT;i++)
            {
                for (j=0;j<mT;j++)
                {
                    validate(document.getElementsByClassName(String(i)+"-"+String(j)+"-T")[0]);
                }
            }
            for (i=0;i<nC;i++)
            {
                validate(document.getElementsByClassName(String(i))[0]);
                validate(document.getElementsByClassName(String(i)+"-X")[0]);
            }

            try 
            {
                for (i=0;i<nT;i++)
                {
                    for (j=0;j<mT;j++)
                    {
                       if (document.getElementsByClassName(String(i)+"-"+String(j)+"-T")[0].value == "") throw "Nhập thiếu";
                       if (isNaN(document.getElementsByClassName(String(i)+"-"+String(j)+"-T")[0].value)) throw "Không hợp lệ";
                    }
                }
                for (i=0;i<nC;i++)
                {
                    if (document.getElementsByClassName(String(i))[0].value==""||
                        document.getElementsByClassName(String(i)+"-X")[0].value=="") throw "Nhập thiếu";
                    if (isNaN(document.getElementsByClassName(String(i))[0].value)||
                        isNaN(document.getElementsByClassName(String(i)+"-X")[0].value)) throw "Không hợp lệ";
                }
                if (document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("M1")[0].value == "" ||
                    document.getElementsByClassName("jacobiX-N")[0].value == "" ||
                    document.getElementsByClassName("jacobiC")[0].value == "" ||
                    document.getElementsByClassName("F active")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("N active")[0].value) ||
                    isNaN(document.getElementsByClassName("M1")[0].value) ||
                    isNaN(document.getElementsByClassName("jacobiX-N")[0].value) ||
                    isNaN(document.getElementsByClassName("jacobiC")[0].value) ||
                    isNaN(document.getElementsByClassName("F active")[0].value) ) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[7].innerHTML = err;
                return;
            }

            for (i=0;i<nT;i++)
            {
                matrixT[i] = [];
                for (j=0;j<mT;j++)
                {
                    matrixT[i][j] = parseFloat(document.getElementsByClassName(String(i)+"-"+String(j)+"-T")[0].value);
                }
            }
            
            for (i=0;i<nC;i++)
            {
                vectoC[i] = parseFloat(document.getElementsByClassName(String(i))[0].value);
            }

            for (i=0;i<nX;i++)
            {
                vectoX[i] = parseFloat(document.getElementsByClassName(String(i)+"-X")[0].value);
            }

            var k = math.norm(matrixT, 1);
            if (k>1) 
            {
                document.getElementsByClassName("result")[7].innerHTML = "Không hội tụ";
                return;
            }
            console.log(k);
            do
            {
                x = math.add((math.multiply(matrixT, vectoX)), vectoC);
                console.log(x);
                ERR = math.subtract(x, vectoX);
                ERR = math.norm(ERR, "inf");
                console.log(ERR);
                vectoX = x; 
                count ++;
                if (count > 100)  
                {
                    document.getElementsByClassName("result")[7].innerHTML = "Không tính được";
                    return;
                }
             }
            while(ERR>=e*(1-k)/k);
            document.getElementsByClassName("result")[7].innerHTML = "";
            for (i=0;i<nT;i++)
            {
                // if (x[i]==Infinity||x[i]==-Infinity) 
                // {
                //     document.getElementsByClassName("result")[7].innerHTML = "Vô nghiệm";
                //     return;
                // }
                // else if (isNaN(x[i])) 
                // {
                //     document.getElementsByClassName("result")[7].innerHTML = "Vô số nghiệm";
                //     return;
                // }
                document.getElementsByClassName("result")[7].innerHTML += x[i].toPrecision(4)+" ";
            }
            // console.log(count);
        }
        // Gauss
        function gaussMethod() {
            var matrixT = [];
            var x = [];
            var nT = parseInt(document.getElementsByClassName("N active")[0].value);
            var mT = parseInt(document.getElementsByClassName("M2")[0].value);
 
            
            validate(document.getElementsByClassName("N active")[0]);
            validate(document.getElementsByClassName("M2")[0]);
            for (i=1;i<=nT;i++)
            {
                for (j=1;j<=mT;j++)
                {
                    validate(document.getElementsByClassName(String(i)+"-"+String(j)+"-T+")[0]);
                }
            }
            try 
            {
                for (i=1;i<=nT;i++)
                {
                    for (j=1;j<=mT;j++)
                    {
                        if (document.getElementsByClassName(String(i)+"-"+String(j)+"-T+")[0].value == "") throw "Nhập thiếu";
                        if (isNaN(document.getElementsByClassName(String(i)+"-"+String(j)+"-T+")[0].value)) throw "Không hợp lệ";
                    }
                }
                if (document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("M2")[0].value == ""  ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("N active")[0].value) ||
                    isNaN(document.getElementsByClassName("M2")[0].value) ) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[8].innerHTML = err;
                return;
            }
            mT = mT-1;
            for (i=1;i<=nT;i++)
            {
                matrixT[i] = [];
                for (j=1;j<=mT+1;j++)
                {
                    matrixT[i][j] = parseFloat(document.getElementsByClassName(String(i)+"-"+String(j)+"-T+")[0].value);
                }
            }
            for(i=1;i<=nT-1;i++)
            {
                for(j=i+1;j<=mT;j++)
                {
                    ratio = matrixT[j][i]/matrixT[i][i];
                    
                    for(k=1;k<=mT+1;k++)
                    {
                            matrixT[j][k] = matrixT[j][k] - ratio*matrixT[i][k];
                    }
                }
            }

            x[nT] = matrixT[nT][mT+1]/matrixT[nT][nT];
            for(i=nT-1;i>=1;i--)
            {
                x[i] = matrixT[i][mT+1];
                for(j=i+1;j<=mT;j++)
                {
                        x[i] = x[i] - matrixT[i][j]*x[j];
                }
                x[i] = x[i]/matrixT[i][i];
            }
            document.getElementsByClassName("result")[8].innerHTML = "";
            for (i=1;i<=nT;i++)
            {
                if (x[i]==Infinity||x[i]==-Infinity) 
                {
                    document.getElementsByClassName("result")[8].innerHTML = "Vô nghiệm";
                    return;
                }
                else if (isNaN(x[i])) 
                {
                    document.getElementsByClassName("result")[8].innerHTML = "Vô số nghiệm";
                    return;
                }
                document.getElementsByClassName("result")[8].innerHTML += "x"+i+"="+x[i].toPrecision(2)+" ";
            }
        }
        // Gauss-seidel
        function gaussSeidelMethod() {
            var matrixA = [];
            var vectoB = [];
            var vectoX= [];
            var y = [];
            var x = []
            var nT = parseInt(document.getElementsByClassName("N active")[0].value);
            var mT = parseInt(document.getElementsByClassName("M3")[0].value);
            var nX = parseInt(document.getElementsByClassName("gaussseidelX-N")[0].value);
            var nB = parseInt(document.getElementsByClassName("gausseidelC")[0].value);
            var e = parseFloat(document.getElementsByClassName("F active")[0].value);
            var ERR = 0;
            var count = 0;

            validate(document.getElementsByClassName("N active")[0]);
            validate(document.getElementsByClassName("M3")[0]);
            validate(document.getElementsByClassName("gaussseidelX-N")[0]);
            validate(document.getElementsByClassName("gausseidelC")[0]);
            validate(document.getElementsByClassName("F active")[0]);
            for (i=0;i<nT;i++)
            {
                for (j=0;j<mT;j++)
                {
                   validate(document.getElementsByClassName(String(i)+"-"+String(j)+"-T-")[0]);
                }
            }
            for (i=0;i<nB;i++)
            {
                validate(document.getElementsByClassName(String(i)+"-")[0]);
                validate(document.getElementsByClassName(String(i)+"-X-G")[0]);
            }
            try 
            {
                for (i=0;i<nT;i++)
                {
                    for (j=0;j<mT;j++)
                    {
                        if (document.getElementsByClassName(String(i)+"-"+String(j)+"-T-")[0].value == "") throw "Nhập thiếu";
                        if (isNaN(document.getElementsByClassName(String(i)+"-"+String(j)+"-T-")[0].value)) throw "Không hợp lệ";
                    }
                }
                for (i=0;i<nB;i++)
                {
                    if (document.getElementsByClassName(String(i)+"-")[0].value == "" ||
                        document.getElementsByClassName(String(i)+"-X-G")[0].value == "") throw "Nhập thiếu";
                    if (isNaN(document.getElementsByClassName(String(i)+"-")[0].value) ||
                        isNaN(document.getElementsByClassName(String(i)+"-X-G")[0].value)) throw "Không hợp lệ";
                }
                if (document.getElementsByClassName("N active")[0].value == "" ||
                    document.getElementsByClassName("M3")[0].value == "" ||
                    document.getElementsByClassName("gaussseidelX-N")[0].value == "" ||
                    document.getElementsByClassName("gausseidelC")[0].value == "" ||
                    document.getElementsByClassName("F active")[0].value == "" ) throw "Nhập thiếu";
                if (isNaN(document.getElementsByClassName("N active")[0].value) ||
                    isNaN(document.getElementsByClassName("M3")[0].value) ||
                    isNaN(document.getElementsByClassName("gaussseidelX-N")[0].value) ||
                    isNaN(document.getElementsByClassName("gausseidelC")[0].value) ||
                    isNaN(document.getElementsByClassName("F active")[0].value) ) throw "Không hợp lệ";
            }
            catch(err)
            {
                document.getElementsByClassName("result")[9].innerHTML = err;
                return;
            }

            for (i=0;i<nT;i++)
            {
                matrixA[i] = [];
                for (j=0;j<mT;j++)
                {
                    matrixA[i][j] = parseFloat(document.getElementsByClassName(String(i)+"-"+String(j)+"-T-")[0].value);
                }
            }
            
            for (i=0;i<nB;i++)
            {
                vectoB[i] = parseFloat(document.getElementsByClassName(String(i)+"-")[0].value);
            }

            for (i=0;i<nX;i++)
            {
                vectoX[i] = parseFloat(document.getElementsByClassName(String(i)+"-X-G")[0].value);
            }

            document.getElementsByClassName("result")[9].innerHTML += "";
            while (e > 0)
            {
                for (i = 0;i<nT;i++)
                {
                    y[i] = (vectoB[i] / matrixA[i][i]);
                    for (j=0;j<nT; j++)
                    {
                        if (j == i) continue;
                        y[i] = y[i] - ((matrixA[i][j] / matrixA[i][i]) * vectoX[j]);
                        vectoX[i] = y[i];
                    }
                }
                e--;
            }
            for (i=0;i<nT;i++)
            {
                document.getElementsByClassName("result")[9].innerHTML += y[i].toPrecision(4)+" ";
            }
        }
    </script>

</body>
</html>


